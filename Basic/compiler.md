# 预处理
- 文件包含
  - 把文件内容复制到#include处
  - <>表示被包含的文件在某些系统目录中，""可以指出文件路径和文件名, -I directory指定头文件搜索路径
- 宏替换
  - 首先将源文件在宏定义随后所有出现的宏名均用其所代表的代码序列替换
  - 宏替换只做代码序列的替换工作，不做任何语法的检查，也不做中间计算
  - 如果宏定义不当，错误要到编译阶段才能发现
- 条件编译
  - 条件编译主要是进行编译时进行有选择的挑选，注释掉一些指定的代码，以达到多个版本控制，防止对文件重复包含的功能
  - #pragma指令可以设定编译器的状态或指示编译器完成一些特定的动作
# 编译
- 词法分析
  - 读入源程序的字符流，并且组织成有意义的词素序列，并产生词法单元，传递给语法分析
- 语法分析
  - 使用词法单元来创建树形的中间表示，给出词法分析产生的词法单元流的语法结构
  - 常用的表示方法是语法树，树中每个内部结点表示一个运算，而该结点的子结点表示该运算的分量
- 语义分析
  - 使用语法树和符号表中的信息来检测源程序是否和语言定义的语义一致
最终生成一个明确的低级的或者类机器语言的中间表示
# 汇编
- 目标文件的生成
  - 将源程序翻译成目标文件，至少包含代码段和数据段
# 链接
- 将有关的目标文件彼此相链接，也即将在一个文件中引用的符号同该符号在另一个文件中的定义连接起来，使得所有的这些目标文件成为一个能够按操作系统装入执行的统一整体
  - 静态链接：将目标文件与引用到的库一起链接打包到可执行文件中，程序运行的时候不再需要静态库文件
  - 动态链接：把调用的函数所在的文件模块和调用函数在文件中的位置等信息链接进目标程序，程序运行的时候再从动态链接库中寻找相应的函数代码
  - 库是一种可执行代码的二进制形式，可以被操作系统载入内存执行
  - 静态库中不能包含其他的静态库或动态库，是一组目标文件的集合，通过ar工具将目标文件打包成.a静态库
  - 动态库中可以包含其他的动态库或静态库，直接使用编译器即可创建动态库，g++ -fPIC -shared -o libraas.so raas.cpp，使用nm命令查看动态库包含的目标文件，使用ldd命令查看一个可执行文件需要哪些动态库
- 库文件的查找路径
  - -Ldir
- 使用库
  - 默认使用动态链接方式，否则使用静态链接方式；直接指定-static可以使用静态方式链接
  - 共享库要在链接时指明库的路径，在运行时也要知道动态库的位置
    - 运行前指明动态库的位置
      - 将动态库路径添加到LD_LIBRARY_PATH的环境变量
      - 或把库拷贝到/usr/lib和/lib目录下
      - 或修改/etc/ld.so.conf文件，把动态库所在的路径加到文件末尾，并执行sudo ldconfig刷新
